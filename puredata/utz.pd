#N canvas 128 92 467 282 10;
#N canvas 696 87 1165 989 UI 0;
#X obj 10 -3 tgl 15 0 $dspStatusOut $dspStatusIn dsp 17 7 0 10 -262144
-1 -1 1 1;
#X obj 94 -7 kollabs/ds_gui utz;
#X obj 834 -7 gui_master;
#X obj 275 -7 kollabs/midi_in_gui utz;
#N canvas 525 350 450 300 mpk 0;
#X obj 51 38 kollabs/midi_in_gui mpk;
#X restore 17 28 pd mpk;
#X obj -1 480 gui_sampler-control bassdrum;
#X obj 583 480 gui_sampler-control cymbal;
#X obj 875 480 gui_sampler-control percussion;
#X obj -1 281 gui_sampler-control animal;
#X obj 291 281 gui_sampler-control tone;
#X obj 875 281 gui_sampler-control gun;
#X obj 291 480 gui_sampler-control snare;
#X obj 583 281 gui_sampler-control vocal;
#X restore 148 112 pd UI;
#N canvas 351 644 447 274 MIDI 0;
#X obj 31 35 kollabs/midi_in utz;
#X obj 31 88 print MIDI;
#N canvas 434 704 443 252 mpkMiniAdapter 0;
#N canvas 19 638 450 300 ctl2vol 0;
#X obj 41 48 kollabs/midi_r utz /utz/bassdrum/volume ctl 1 17;
#X obj 41 68 kollabs/midi_r utz /utz/snare/volume ctl 2 17;
#X obj 41 88 kollabs/midi_r utz /utz/cymbal/volume ctl 3 17;
#X obj 41 108 kollabs/midi_r utz /utz/percussion/volume ctl 4 17;
#X obj 41 128 kollabs/midi_r utz /utz/animal/volume ctl 5 17;
#X obj 41 148 kollabs/midi_r utz /utz/tone/volume ctl 6 17;
#X obj 41 168 kollabs/midi_r utz /utz/vocal/volume ctl 7 17;
#X obj 40 188 kollabs/midi_r utz /utz/gun/volume ctl 8 17;
#X obj 17 18 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 73 6 loadbang;
#X msg 54 26 0;
#X connect 8 0 0 0;
#X connect 8 0 1 0;
#X connect 8 0 2 0;
#X connect 8 0 3 0;
#X connect 8 0 4 0;
#X connect 8 0 5 0;
#X connect 8 0 6 0;
#X connect 8 0 7 0;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X restore 107 98 pd ctl2vol;
#N canvas 1118 363 459 346 padNotesAdapter 0;
#X obj 73 93 kollabs/midi_in mpk;
#X obj 73 125 route note;
#X msg 73 147 \$3 \$2 \$1;
#X obj 73 244 s /midi/utz/in;
#X msg 73 210 note \$2 \$1 2;
#X obj 73 169 route 26;
#X text 44 49 it's 26 because it's the 2nd device [16 + 10];
#X text 44 34 all midi pad note input from channel 26 -> channel 2
;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X restore 107 72 pd padNotesAdapter;
#N canvas 455 222 450 366 ctlPotisAdapter 0;
#X obj 73 73 kollabs/midi_in mpk;
#X msg 73 127 \$3 \$2 \$1;
#X obj 73 304 s /midi/utz/in;
#X text 44 34 all midi ctl input from channel 17 -> channel 2;
#X text 44 49 it's 17 because it's the 2nd device [16 + 1];
#X obj 73 149 route 17;
#X obj 73 105 route ctl;
#X obj 73 184 unpack f f;
#X obj 73 211 + 9;
#X obj 73 239 pack f f;
#X msg 73 270 ctl \$2 \$1 2;
#X connect 0 0 6 0;
#X connect 1 0 5 0;
#X connect 5 0 7 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 7 1 9 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 2 0;
#X restore 104 23 pd ctlPotisAdapter;
#X restore 229 35 pd mpkMiniAdapter;
#X connect 0 0 1 0;
#X restore 219 112 pd MIDI;
#N canvas 400 225 531 300 init 0;
#X obj 41 31 loadbang;
#X msg 41 57 1;
#X msg 41 181 \; pd dsp \$1;
#X obj 41 141 r $dspStatusOut;
#X obj 41 107 s $dspStatusIn;
#X obj 41 81 delay 100;
#X text 128 57 hack to prevent switching on dsp;
#X text 128 71 before soundcard is acquired;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 5 0 4 0;
#X restore 148 64 pd init;
#N canvas 980 545 561 414 DSP 0;
#N canvas 1112 545 450 300 master 0;
#X obj 44 100 dac~ 1 2;
#X obj 40 211 kollabs/ds_reg utz /utz/master/volume;
#X text 44 229 saving master volume for each preset;
#X obj 43 46 inlet~;
#X obj 110 46 catch~ /utz/master/out;
#X obj 44 72 env_volume~ master;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 5 0 0 1;
#X restore 79 312 pd master;
#N canvas 30 123 450 300 multimelody 0;
#X obj 59 172 throw~ /utz/master/out;
#X text 53 195 send to master audio out;
#X obj 60 144 cmpstn/multiMelody multimelody;
#N canvas 1266 355 487 232 init 0;
#X obj 61 18 loadbang;
#X obj 61 79 t b b b;
#X msg 218 96 3000;
#X obj 191 116 delay;
#X text 250 96 playing time;
#X obj 61 47 delay 1000;
#X obj 61 158 s /utz/multimelody;
#X msg 61 136 start;
#X msg 191 136 stop;
#X connect 0 0 5 0;
#X connect 1 0 7 0;
#X connect 1 1 3 0;
#X connect 1 2 2 0;
#X connect 2 0 3 1;
#X connect 3 0 8 0;
#X connect 5 0 1 0;
#X connect 7 0 6 0;
#X connect 8 0 6 0;
#X restore 65 34 pd init;
#X obj 64 86 midi2trigger note 2 36 multimelody;
#X connect 2 0 0 0;
#X restore 79 63 pd multimelody;
#X text 189 64 intro theme + note 36;
#X obj 99 151 module_sampler~ cymbal note 2 49 utz;
#X obj 89 131 module_sampler~ snare note 2 50 utz;
#X obj 79 111 module_repeater~ bassdrum note 2 51 utz;
#X obj 119 191 module_poti~ animal note 2 47 utz ctl 2 13 1.5 0.3 pitch
;
#X obj 149 251 module_poti~ gun note 2 44 utz ctl 2 10 1.5 0.3 pitch
;
#X obj 128 211 module_poti~ tone note 2 46 utz ctl 2 12 1.5 0.3 pitch
;
#X obj 139 231 module_poti~ vocal note 2 45 utz ctl 2 11 1.5 0.3 pitch
;
#X obj 109 171 module_poti~ percussion note 2 48 utz ctl 2 14 1.5 0.5
pitch;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 8 0 0 0;
#X connect 9 0 0 0;
#X connect 10 0 0 0;
#X restore 149 159 pd DSP;
#N canvas 2 87 450 300 presets 0;
#N canvas 679 328 450 300 kollabs 0;
#X obj 111 52 loadbang;
#X obj 111 108 t b b;
#X msg 111 204 \; /ds/utz/scene 1;
#X obj 111 176 delay 500;
#X msg 138 136 \; /ds/utz/loadfile ../preset.txt;
#X obj 200 82 kollabs/ds_logic utz;
#X obj 111 80 del 150;
#X connect 0 0 6 0;
#X connect 1 0 3 0;
#X connect 1 1 4 0;
#X connect 3 0 2 0;
#X connect 6 0 1 0;
#X restore 105 84 pd kollabs;
#N canvas 417 693 450 300 midi2preset 0;
#X obj 38 42 pgmin;
#X obj 38 90 - 1;
#X obj 38 117 %;
#X obj 38 145 abs;
#X text 66 144 preset number is positive;
#X obj 38 173 + 1;
#X text 72 171 presets begin with 1;
#X obj 38 200 s /ds/utz/scene;
#X obj 73 90 r /ds/utz/scene/maximum;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 5 0 7 0;
#X connect 8 0 2 1;
#X restore 105 114 pd midi2preset;
#X restore 219 64 pd presets;
